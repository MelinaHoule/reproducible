<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • reproducible</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Changelog" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-58633549-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-58633549-5');
</script>


  </head>

  <body>
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">reproducible</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Cache-using-postgresql.html">Using alternate database backends for Cache</a>
    </li>
    <li>
      <a href="../articles/Intro-to-Cache.html">Introduction to Cache</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/PredictiveEcology/reproducible">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/PredictiveEcology/reproducible/blob/master/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="version-100" class="section level1">
<h1 class="page-header">
<a href="#version-100" class="anchor"></a>version 1.0.0<small> Unreleased </small>
</h1>
<div id="new-features" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features" class="anchor"></a>New features</h2>
<ul>
<li>This version is not backwards-compatible out of the box. To maintain backwards compatibility, set: <code><a href="https://rdrr.io/r/base/options.html">options("reproducible.useDBI" = FALSE)</a></code>
</li>
<li>A new backend was introduced that uses <code>DBI</code> package directly, without <code>archivist</code>. This has much improved speed.</li>
<li>New option: <code><a href="https://rdrr.io/r/base/options.html">options("reproducible.cacheSaveFormat")</a></code>. This can be either <code>rds</code> (default) or <code>qs</code>. All cached objects will be saved with this format. Previously it was <code>rda</code>.</li>
<li>Cache objects can now be saved with with <code><a href="https://rdrr.io/pkg/qs/man/qsave.html">qs::qsave</a></code>. In many cases, this has much improved speed and file sizes compared to <code>rds</code>; however, testing across a wide range of conditions will occur before it becomes the default.</li>
<li>Changed default behaviour for memoising <code>...</code> because <code>Cache</code> is now much faster, the default is to turn memoising off, via <code><a href="https://rdrr.io/r/base/options.html">options("reproducible.useMemoise" = FALSE)</a></code>. In cases of large objects, memoising should still be faster, so user can still activate it, setting the option to <code>TRUE</code>.</li>
<li>Much better SQLite database handling for concurrent write attempts. Tested with dozens of write attempts per second by 3 cores with abundant locked database occurrences.</li>
<li>
<code>postProcess</code> arg <code>useGDAL</code> can now take <code>"force"</code> as the default behaviour is to not use GDAL if the problem can fit into RAM and <code>sf</code> or <code>raster</code> tools will be faster than <code>GDAL</code> tools</li>
</ul>
</div>
<div id="dependency-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#dependency-changes" class="anchor"></a>Dependency changes</h2>
<ul>
<li>deprecating <code>archivist</code>; moved to Suggests.</li>
<li>removed imports for <code>bitops</code>, <code>dplyr</code>, <code>fasterize</code>, <code>flock</code>, <code>git2r</code>, <code>lubridate</code>, <code>RcppArmadillo</code>, <code>RCurl</code> and <code>tidyselect</code>. Some of these went to Suggests.</li>
</ul>
</div>
<div id="bug-fixes" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes" class="anchor"></a>bug fixes</h2>
<ul>
<li>
<code>postProcess</code> calls that use GDAL made more robust (including <a href='https://github.com/PredictiveEcology/reproducible/issues/93'>#93</a>).</li>
<li>Several minor, edge cases were detected and fixed.</li>
</ul>
</div>
</div>
    <div id="version-0211" class="section level1">
<h1 class="page-header">
<a href="#version-0211" class="anchor"></a>version 0.2.11<small> 2019-11-19 </small>
</h1>
<div id="dependency-changes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#dependency-changes-1" class="anchor"></a>Dependency changes</h2>
<ul>
<li>remove <code>dplyr</code> as a direct dependency. It is still an indirect dependency through <code>DiagrammeR</code>
</li>
</ul>
</div>
<div id="new-features-1" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-1" class="anchor"></a>New features</h2>
<ul>
<li>new option: <code>reproducible.showSimilarDepth</code> allows for a deeper assessment of nested lists for differences between the nearest cached object and the present object. This greater depth may allow more fine tuned understanding of why an object is not correctly caching</li>
<li>for downloading large files from GoogleDrive (currently only implemented), if user has set <code><a href="https://rdrr.io/r/base/options.html">options("reproducible.futurePlan")</a></code> to something other than <code>FALSE</code>, then it will show download progress if the file is “large”.</li>
</ul>
</div>
<div id="bug-fixes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-1" class="anchor"></a>bug fixes</h2>
<ul>
<li>Several minor, edge cases were detected and fixed.</li>
</ul>
</div>
</div>
    <div id="version-0210" class="section level1">
<h1 class="page-header">
<a href="#version-0210" class="anchor"></a>version 0.2.10<small> 2019-09-11 </small>
</h1>
<div id="dependency-changes-2" class="section level2">
<h2 class="hasAnchor">
<a href="#dependency-changes-2" class="anchor"></a>Dependency changes</h2>
<ul>
<li>made compatible with <code>googledrive</code> v 1.0.0 (<a href='https://github.com/PredictiveEcology/reproducible/issues/119'>#119</a>)</li>
</ul>
</div>
<div id="new-features-2" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-2" class="anchor"></a>New features</h2>
<ul>
<li>
<code>pkgDep2</code>, a new convenience function to get the dependencies of the “first order” dependencies.</li>
<li>
<code>useCache</code>, used in many functions (incl <code>Cache</code>, <code>postProcess</code>) can now be numeric, a qualitative indicator of “how deep” nested <code>Cache</code> calls should set <code>useCache = TRUE</code> – implemented as 1 or 2 in <code>postProcess</code> currently. See <code><a href="../reference/cache.html">?Cache</a></code>
</li>
</ul>
</div>
<div id="bug-fixes-2" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-2" class="anchor"></a>bug fixes</h2>
<ul>
<li>
<code>pkgDep</code> was becoming unreliable for unknown reasons. It has been reimplemented, much faster, without memoising. The speed gains should be immediately noticeable (6 second to 0.1 second for <code><a href="../reference/pkgDep.html">pkgDep("reproducible")</a></code>)</li>
<li>improved <code>retry</code> to use exponential backoff when attempting to access online resources (<a href='https://github.com/PredictiveEcology/reproducible/issues/121'>#121</a>)</li>
</ul>
</div>
</div>
    <div id="version-029" class="section level1">
<h1 class="page-header">
<a href="#version-029" class="anchor"></a>version 0.2.9<small> 2019-07-09 </small>
</h1>
<div id="new-features-3" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-3" class="anchor"></a>New features</h2>
<ul>
<li>Cache has 2 new arguments, <code>useCloud</code> and <code>cloudFolderID</code>. This is a new approach to cloud caching. It has been tested with file backed <code>RasterLayer</code>, <code>RasterStack</code> and <code>RasterBrick</code> and all normal R objects. It will not work for any other class of disk-backed files, e.g., <code>ff</code> or <code>bigmatrix</code>, nor is it likely to work for R6 class objects.</li>
<li>Slowly deprecating cloudCache and family of functions in favour of a new approach using arguments to <code>Cache</code>, i.e., <code>useCache</code> and <code>cloudFolderID</code>
</li>
<li>
<code>downloadData</code> from Google Drive now protects against HTTP2 error by capturing error and retrying. This is a curl issue for interrupted connections.</li>
</ul>
</div>
<div id="bug-fixes-3" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-3" class="anchor"></a>Bug fixes</h2>
<ul>
<li>fixes for <code>rcnst</code> errors on R-devel, tested using <code><a href="https://rdrr.io/pkg/devtools/man/check.html">devtools::check(env_vars = list("R_COMPILE_PKGS"=1, "R_JIT_STRATEGY"=4, "R_CHECK_CONSTANTS"=5))</a></code>
</li>
<li>other minor improvements, including fixes for <a href='https://github.com/PredictiveEcology/reproducible/issues/115'>#115</a></li>
</ul>
</div>
</div>
    <div id="version-028" class="section level1">
<h1 class="page-header">
<a href="#version-028" class="anchor"></a>version 0.2.8<small> 2019-03-18 </small>
</h1>
<div id="new-features-4" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-4" class="anchor"></a>New features</h2>
<ul>
<li>new functions for accessing specific items from the <code>cacheRepo</code>: <code>getArtifact</code>, <code>getCacheId</code>, <code>getUserTags</code>
</li>
<li>
<code>retry</code>, a new function, wraps <code>try</code> with an explicit attempt to retry the same code upon error. Useful for flaky functions, such as <code>googldrive::drive_download</code> which sometimes fails due to <code>curl</code> HTTP2 error.</li>
<li>removed all <code>Rcpp</code> functionality as the functions were no longer faster than their R base alternatives.</li>
</ul>
</div>
<div id="bug-fixes-4" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-4" class="anchor"></a>Bug fixes</h2>
<ul>
<li>
<code>prepInputs</code> was not correctly passing <code>useCache</code>
</li>
<li>
<code>cropInputs</code> was reprojecting extent of y as a time saving approach, but this was incorrect if <code>studyArea</code> is a <code>SpatialPolygon</code> that is not close to filling the extent. It now reprojects <code>studyArea</code> directly which will be slower, but correct. (<a href='https://github.com/PredictiveEcology/reproducible/issues/93'>#93</a>)</li>
<li>other minor improvements</li>
</ul>
</div>
</div>
    <div id="version-027" class="section level1">
<h1 class="page-header">
<a href="#version-027" class="anchor"></a>version 0.2.7<small> 2019-03-07 </small>
</h1>
<div id="new-features-5" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-5" class="anchor"></a>New features</h2>
<ul>
<li>
<code>CHECKSUMS.txt</code> should now be ordered consistently across operating systems (note: <code><a href="https://rdrr.io/r/base/order.html">base::order</a></code> will not succeed in doing this –&gt; now using <code>.orderDotsUnderscoreFirst</code>)</li>
<li>
<code>cloudSyncCache</code> has a new argument: <code>cacheIds</code>. Now user can control entries by <code>cacheId</code>, so can delete/upload individual objects by <code>cacheId</code>
</li>
<li>Experimental support within the <code>postProcess</code> family for <code>sf</code> class objects</li>
</ul>
</div>
<div id="bug-fixes-5" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-5" class="anchor"></a>bug fixes</h2>
<ul>
<li>mostly minor</li>
<li>
<code>cloudCache</code> bugfixes for more cases</li>
</ul>
</div>
</div>
    <div id="version-026" class="section level1">
<h1 class="page-header">
<a href="#version-026" class="anchor"></a>version 0.2.6<small> 2019-02-01 </small>
</h1>
<div id="dependency-changes-3" class="section level2">
<h2 class="hasAnchor">
<a href="#dependency-changes-3" class="anchor"></a>Dependency changes</h2>
<ul>
<li>remove <code>tibble</code> from Imports as it’s no longer being used</li>
</ul>
</div>
<div id="new-features-6" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-6" class="anchor"></a>New features</h2>
<ul>
<li>remove <code>%&gt;%</code> pipe that was long ago deprecated. User should use <code><a href="../reference/pipe.html">%C%</a></code> if they want a pipe that is Cache-aware. See examples.</li>
<li>Full rewrite of all <code>options</code> descriptions now in <code>reproducible</code>, see <code><a href="../reference/reproducibleOptions.html">?reproducibleOptions</a></code>
</li>
<li>now <code>cacheRepo</code> and <code><a href="https://rdrr.io/r/base/options.html">options("reproducible.cachePath")</a></code> can take a vector of paths. Similar to how .libPaths() works for libraries, <code>Cache</code> will search first in the first entry in the <code>cacheRepo</code>, then the second etc. until it finds an entry. It will only write to the first entry.</li>
<li>new value for the option: <code><a href="https://rdrr.io/r/base/options.html">options("reproducible.useCache" = "devMode")</a></code>. The point of this mode is to facilitate using the Cache when functions and datasets are continually in flux, and old Cache entries are likely stale very often. In <code>devMode</code>, the cache mechanism will work as normal if the Cache call is the first time for a function OR if it successfully finds a copy in the cache based on the normal Cache mechanism. It <em>differs</em> from the normal Cache if the Cache call does <em>not</em> find a copy in the <code>cacheRepo</code>, but it does find an entry that matches based on <code>userTags</code>. In this case, it will delete the old entry in the <code>cacheRepo</code> (identified based on matching <code>userTags</code>), then continue with normal <code>Cache</code>. For this to work correctly, <code>userTags</code> must be unique for each function call. This should be used with caution as it is still experimental.</li>
<li>change to how hashes are calculated. This will cause existing caches to not work correctly. To allow a user to keep old behaviour (during a transition period), the “old” algorithm can be used, with <code><a href="https://rdrr.io/r/base/options.html">options("reproducible.useNewDigestAlgorithm" = FALSE)</a></code>. There is a message of this change on package load.</li>
<li>add experimental <code>cloud*</code> functions, especially <code>cloudCache</code> which allows sharing of Cache among collaborators. Currently only works with <code>googledrive</code>
</li>
<li>updated <code>assessDataType</code> to consolidate <code>assessDataTypeGDAL</code> and <code>assessDataType</code> into single function (<a href='https://github.com/PredictiveEcology/reproducible/issues/71'>#71</a>, <a href='https://github.com/ianmseddy'>@ianmseddy</a>)</li>
<li>
<code>cc</code>: new function – a shortcut for some commonly used options for <code><a href="../reference/viewCache.html">clearCache()</a></code>
</li>
<li>added experimental capacity for <code>prepInputs</code> to handle <code>.rar</code> archives, on systems with correct binaries to deal with them (<a href='https://github.com/PredictiveEcology/reproducible/issues/86'>#86</a>, <a href='https://github.com/tati-micheletti'>@tati-micheletti</a>)</li>
<li>remove <code><a href="https://rdrr.io/pkg/fastdigest/man/fastdigest.html">fastdigest::fastdigest</a></code> as it is not return the identical hash across operating systems</li>
</ul>
</div>
<div id="bug-fixes-6" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-6" class="anchor"></a>Bug fixes</h2>
<ul>
<li>
<code>prepInputs</code> on GIS objects that don’t use <code><a href="https://rdrr.io/pkg/raster/man/raster.html">raster::raster</a></code> to load object were skipping <code>postProcess</code>. Fixed.</li>
<li>under some circumstances, the <code>prepInputs</code> would cause virtually all entries in <code>CHECKSUMS.txt</code> to be deleted. 2 cases where this happened were identified and corrected.</li>
<li>
<code>data.table</code> class objects would give an error sometimes due to use of <code><a href="https://rdrr.io/r/base/attr.html">attr(DT)</a></code>. Internally, attributes are now added with <code><a href="https://Rdatatable.gitlab.io/data.table/reference/setattr.html">data.table::setattr</a></code> to deal with this.</li>
<li>calling <code>gdalwarp</code> from <code>prostProcess</code> now correctly matches extent (<a href='https://github.com/PredictiveEcology/reproducible/issues/73'>#73</a>, <a href='https://github.com/tati-micheletti'>@tati-micheletti</a>)</li>
<li>files from url that have unknown extension are now guessed with by <code>preProcess</code> (<a href='https://github.com/PredictiveEcology/reproducible/issues/92'>#92</a>, <a href='https://github.com/tati-micheletti'>@tati-micheletti</a>)</li>
</ul>
</div>
</div>
    <div id="version-025" class="section level1">
<h1 class="page-header">
<a href="#version-025" class="anchor"></a>version 0.2.5<small> 2018-11-16 </small>
</h1>
<div id="dependency-changes-4" class="section level2">
<h2 class="hasAnchor">
<a href="#dependency-changes-4" class="anchor"></a>Dependency changes</h2>
<ul>
<li>Added <code>remotes</code> to Imports and removed <code>devtools</code>
</li>
</ul>
</div>
<div id="new-features-7" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-7" class="anchor"></a>New features</h2>
<ul>
<li><p>New value possible for <code><a href="https://rdrr.io/r/base/options.html">options(reproducible.useCache = 'overwrite')</a></code>, which allows use of <code>Cache</code> in cases where the function call has an entry in the <code>cacheRepo</code>, will purge it and add the output of the current call instead.</p></li>
<li><p>New option <code>reproducible.inputPaths</code> (default <code>NULL</code>) and <code>reproducible.inputPathsRecursive</code> (default <code>FALSE</code>), which will be used in <code>prepInputs</code> as possible directory sources (searched recursively or not) for files being downloaded/extracted/prepared. This allows the using of local copies of files in (an)other location(s) instead of downloading them. If local location does not have the required files, it will proceed to download so there is little cost in setting this option. If files do exist on local system, the function will attempt to use a hardlink before making a copy.</p></li>
<li><p><code><a href="../reference/dlGoogle.html">dlGoogle()</a></code> now sets <code><a href="https://rdrr.io/r/base/options.html">options(httr_oob_default = TRUE)</a></code> if using Rstudio Server.</p></li>
<li><p>Files in <code>CHECKSUMS</code> now sorted alphabetically.</p></li>
<li><p><code>Checksums</code> can now have a <code>CHECKSUMS.txt</code> file located in a different place than the <code>destinationPath</code></p></li>
<li><p>Attempt to select raster resampling method based on raster type if no method supplied (<a href='https://github.com/PredictiveEcology/reproducible/issues/63'>#63</a>, <a href='https://github.com/ianmseddy'>@ianmseddy</a>)</p></li>
<li><p><code>projectInputs</code></p></li>
<li>
<p>new function <code>assessDataTypeGDAL</code>, used in <code>postProcess</code>, to identify smallest <code>datatype</code> for large Raster* objects passed to GDAL system call</p>
<ul>
<li>when masking and reprojecting large <code>Raster</code> objects, enact <code>gdalwarp</code> system call if <code>raster::canProcessInMemory(x,4) = FALSE</code> for faster and memory-safe processing</li>
<li>better handling of various data types in <code>Raster</code> objects, including factor rasters</li>
</ul>
</li>
</ul>
</div>
<div id="bug-fixes-7" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-7" class="anchor"></a>Bug fixes</h2>
<ul>
<li>Work around internally inside <code>extractFromArchive</code> for large (&gt;2GB) zip files. In the <code>R</code> help manual, <code>unzip</code> fails for zip files &gt;2GB. This uses a system call if the zip file is too large and fails using <code>base::unzip</code>.</li>
<li>Work around for <code><a href="https://rdrr.io/pkg/raster/man/getData.html">raster::getData</a></code> issues.</li>
<li>Speed up of <code><a href="../reference/cache.html">Cache()</a></code> when deeply nested, due to <code><a href="https://rdrr.io/r/base/grep.html">grep(sys.calls(), ...)</a></code> that would take long and hang.</li>
<li>Bugfix for <code><a href="../reference/preProcess.html">preProcess(url = NULL)</a></code> (<a href='https://github.com/PredictiveEcology/reproducible/issues/65'>#65</a>, <a href='https://github.com/tati-micheletti'>@tati-micheletti</a>)</li>
<li>Improved memory performance of <code>clearCache</code> (<a href='https://github.com/PredictiveEcology/reproducible/issues/67'>#67</a>), especially for large <code>Raster</code> objects that are stored as binary <code>R</code> files (i.e., <code>.rda</code>)</li>
<li>Other minor bugfixes</li>
</ul>
</div>
<div id="other-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#other-changes" class="anchor"></a>Other changes</h2>
<ul>
<li>Deal with new <code>raster</code> package changes in development version of <code>raster</code> package</li>
<li>Added checks for float point number issues in raster resolutions produced by <code><a href="https://rdrr.io/pkg/raster/man/projectRaster.html">raster::projectRaster</a></code>
</li>
<li>
<code>.robustDigest</code> now does not include <code>Cache</code>-added attributes</li>
<li>Additional tests for <code><a href="../reference/preProcess.html">preProcess()</a></code> (<a href='https://github.com/PredictiveEcology/reproducible/issues/68'>#68</a>, <a href='https://github.com/tati-micheletti'>@tati-micheletti</a>)</li>
<li>Many new unit tests written, which caught several minor bugs</li>
</ul>
</div>
</div>
    <div id="version-023" class="section level1">
<h1 class="page-header">
<a href="#version-023" class="anchor"></a>version 0.2.3<small> 2018-08-07 </small>
</h1>
<ul>
<li>fix and skip downloading test on CRAN</li>
</ul>
</div>
    <div id="version-022" class="section level1">
<h1 class="page-header">
<a href="#version-022" class="anchor"></a>version 0.2.2<small> 2018-08-01 </small>
</h1>
<div id="dependency-changes-5" class="section level2">
<h2 class="hasAnchor">
<a href="#dependency-changes-5" class="anchor"></a>Dependency changes</h2>
<ul>
<li>Add <code>future</code> to Suggests.</li>
</ul>
</div>
<div id="new-features-8" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-8" class="anchor"></a>New features</h2>
<ul>
<li>new option on non-Windows OSs to use <code>future</code> for <code>Cache</code> saving to SQLite database, via <code><a href="https://rdrr.io/r/base/options.html">options("reproducible.futurePlan")</a></code>, if the <code>future</code> package is installed. This is <code>FALSE</code> by default.</li>
<li>If a <code>do.call</code> function is Cached, previously, it would be labelled in the database as <code>do.call</code>. Now it attempts to extract the actual function being called by the <code>do.call</code>. Messaging is similarly changed.</li>
<li>new option <code>reproducible.ask</code>, logical, indicating whether <code>clearCache</code> should ask for deletions when in an interactive session</li>
<li>
<code>prepInputs</code>, <code>preProcess</code> and <code>downloadFile</code> now have <code>dlFun</code>, to pass a custom function for downloading (e.g., “raster::getData”)</li>
<li>
<code>prepInputs</code> will automatically use <code>readRDS</code> if the file is a <code>.rds</code>.</li>
<li>
<code>prepInputs</code> will return a <code>list</code> if <code>fun = "base::load"</code>, with a message; can still pass an <code>envir</code> to obtain standard behaviour of <code><a href="https://rdrr.io/r/base/load.html">base::load</a></code>.</li>
<li>
<code>clearCache</code> - new argument <code>ask</code>.</li>
<li>new function <code>assessDataType</code>, used in <code>postProcess</code>, to identify smallest <code>datatype</code> for Raster* objects, if user does not pass an explicit <code>datatype</code> in <code>prepInputs</code> or <code>postProcess</code> (<a href='https://github.com/PredictiveEcology/reproducible/issues/39'>#39</a>, <a href='https://github.com/CeresBarros'>@CeresBarros</a>).</li>
</ul>
</div>
<div id="bug-fixes-8" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-8" class="anchor"></a>Bug fixes</h2>
<ul>
<li>fix problems with tests introduced by recent <code>git2r</code> update (<a href='https://github.com/stewid'>@stewid</a>, <a href='https://github.com/PredictiveEcology/reproducible/issues/36'>#36</a>).</li>
<li>
<code>.prepareRasterBackedFile</code> – now will postpend an incremented numeric to a cached copy of a file-backed Raster object, if it already exists. This mirrors the behaviour of the <code>.rda</code> file. Previously, if two Cache events returned the same file name backing a Raster object, even if the content was different, it would allow the same file name. If either cached object was deleted, therefore, it would cause the other one to break as its file-backing would be missing.</li>
<li>options were wrongly pointing to <code>spades.XXX</code> and should have been <code>reproducible.XXX</code>.</li>
<li>
<code>copyFile</code> did not perform correctly under all cases; now better handling of these cases, often sending to <code>file.copy</code> (slower, but more reliable)</li>
<li>
<code>extractFromArchive</code> needed a new <code>Checksum</code> function call under some circumstances</li>
<li>several other minor bug fixes.</li>
<li>
<code>extractFromArchive</code> – when dealing with nested zips, not all args were passed in recursively (<a href='https://github.com/PredictiveEcology/reproducible/issues/37'>#37</a>, <a href='https://github.com/CeresBarros'>@CeresBarros</a>)</li>
<li>
<code>prepInputs</code> – arguments that were same as <code>Cache</code> were not being correctly passed internally to <code>Cache</code>, and if wrapped in Cache, it was not passed into prepInputs. Fixed.</li>
<li>
<code>.prepareFileBackedRaster</code> was failing in some cases (specifically if it was inside a <code>do.call</code>) (<a href='https://github.com/PredictiveEcology/reproducible/issues/40'>#40</a>, <a href='https://github.com/CeresBarros'>@CeresBarros</a>).</li>
<li>
<code>Cache</code> was failing under some cases of <code><a href="../reference/cache.html">Cache(do.call, ...)</a></code>. Fixed.</li>
<li>
<code>Cache</code> – when arguments to Cache were the same as the arguments in <code>FUN</code>, Cache would “take” them. Now, they are correctly passed to the <code>FUN</code>.</li>
<li>
<code>preProcess</code> – writing to checksums may have produced a warning if <code>CHECKSUMS.txt</code> was not present. Now it does not.</li>
<li>numerous other minor bugfixes</li>
</ul>
</div>
<div id="other-changes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#other-changes-1" class="anchor"></a>Other changes</h2>
<ul>
<li>most tests now use a standardized approach to attaching libraries, creating objects, paths, enabling easier, error resistant test building</li>
</ul>
</div>
</div>
    <div id="version-021" class="section level1">
<h1 class="page-header">
<a href="#version-021" class="anchor"></a>version 0.2.1<small> 2018-07-07 </small>
</h1>
<div id="new-features-9" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-9" class="anchor"></a>New features</h2>
<ul>
<li>
<p>new functions:</p>
<ul>
<li>
<code>convertPaths</code> and <code>convertRasterPaths</code> to assist with renaming moved files.</li>
</ul>
</li>
<li>
<p><code>prepInputs</code> – new features</p>
<ul>
<li>
<code>alsoExtract</code> now has more options (<code>NULL</code>, <code>NA</code>, <code>"similar"</code>) and defaults to extracting all files in an archive (<code>NULL</code>).</li>
<li>skips <code>postProcess</code> altogether if no <code>studyArea</code> or <code>rasterToMatch</code>. Previously, this would invoke Cache even if there was nothing to <code>postProcess</code>.</li>
</ul>
</li>
</ul>
</div>
<div id="bug-fixes-9" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-9" class="anchor"></a>Bug fixes</h2>
<ul>
<li>
<code>copyFile</code> correctly handles directory names containing spaces.</li>
<li>
<code>makeMemoisable</code> fixed to handle additional edge cases.</li>
<li>other minor bug fixes.</li>
</ul>
</div>
</div>
    <div id="version-020" class="section level1">
<h1 class="page-header">
<a href="#version-020" class="anchor"></a>version 0.2.0<small> 2018-06-17 </small>
</h1>
<div id="new-features-10" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-10" class="anchor"></a>New features</h2>
<ul>
<li>
<p>new functions:</p>
<ul>
<li>
<code>prepInputs</code> to aid in data downloading and preparation problems, solved in a reproducible, Cache-aware way.</li>
<li>
<code>postProcess</code> which is a wrapper for sequences of several other new functions (<code>cropInputs</code>, <code>fixErrors</code>, <code>projectInputs</code>, <code>maskInputs</code>, <code>writeOutputs</code>, and <code>determineFilename</code>)</li>
<li>
<code>downloadFile</code> can handle Google Drive and ftp/http(s) files</li>
<li>
<code>zipCache</code> and <code>mergeCache</code>
</li>
<li>
<code>compareNA</code> does comparisons with NA as a possible value e.g., <code><a href="../reference/compareNA.html">compareNA(c(1,NA), c(2, NA))</a></code> returns <code>FALSE, TRUE</code>
</li>
</ul>
</li>
<li>
<p>Cache – new features:</p>
<ul>
<li>new arguments <code>showSimilar</code>, <code>verbose</code> which can help with debugging</li>
<li>new argument <code>useCache</code> which allows turning caching on and off at a high level (e.g., options(“useCache”))</li>
<li>new argument <code>cacheId</code> which allows user to hard code a result from a Cache</li>
<li>deprecated arguments: <code>digestPathContent</code> –&gt; <code>quick</code>, <code>compareRasterFileLength</code> –&gt; <code>length</code>
</li>
<li>Cache arguments now propagate inward to nested <code>Cache</code> function calls, unless explicitly set on the inner functions</li>
<li>more precise messages provided upon each use</li>
<li>many more <code>userTags</code> added automatically to cache entries so much more powerful searching via <code><a href="../reference/viewCache.html">showCache(userTags="something")</a></code>
</li>
</ul>
</li>
<li><p><code>checksums</code> now returns a data.table with the same columns whether <code>write = TRUE</code> or <code>write = FALSE</code>.</p></li>
<li><p><code>clearCache</code> and <code>showCache</code> now give messages and require user intervention if request to <code>clearCache</code> would be large quantities of data deleted</p></li>
<li><p><code><a href="https://rdrr.io/pkg/memoise/man/memoise.html">memoise::memoise</a></code> now used on 3rd run through an identical <code>Cache</code> call, dramatically speeding up in most cases</p></li>
<li><p>new options: <code>reproducible.cachePath</code>, <code>reproducible.quick</code>, <code>reproducible.useMemoise</code>, <code>reproducible.useCache</code>, <code>reproducible.useragent</code>, <code>reproducible.verbose</code></p></li>
<li><p><code>asPath</code> has a new argument indicating how deep should the path be considered when included in caching (only relevant when <code>quick = TRUE</code>)</p></li>
<li><p>New vignette on using Cache</p></li>
<li><p>Cache is <code>parallel</code>-safe, meaning there are <code>tryCatch</code> around every attempt at writing to SQLite database so it can be used safely on multi-threaded machines</p></li>
<li><p>bug fixes, unit tests, more <code>imports</code> for packages e.g., <code>stats</code></p></li>
<li><p>updates for R 3.6.0 compact storage of sequence vectors</p></li>
<li><p>experimental pipes (<code>%&gt;%</code>, <code><a href="../reference/pipe.html">%C%</a></code>) and assign <code><a href="../reference/cache.html">%&lt;%</a></code></p></li>
<li><p>several performance enhancements</p></li>
</ul>
</div>
</div>
    <div id="version-014" class="section level1">
<h1 class="page-header">
<a href="#version-014" class="anchor"></a>version 0.1.4<small> 2018-01-25 </small>
</h1>
<ul>
<li><p><code>mergeCache</code>: a new function to merge two different Cache repositories</p></li>
<li><p><code><a href="https://rdrr.io/pkg/memoise/man/memoise.html">memoise::memoise</a></code> is now used on <code>loadFromLocalRepo</code>, meaning that the 3rd time <code><a href="../reference/cache.html">Cache()</a></code> is run on the same arguments (and the 2nd time in a session), the returned Cache will be from a RAM object via memoise. To stop this behaviour and use only disk-based Caching, set <code><a href="https://rdrr.io/r/base/options.html">options(reproducible.useMemoise = FALSE)</a></code> .</p></li>
<li><p>Cache assign – <code><a href="../reference/cache.html">%&lt;%</a></code> can be used instead of normal assign, equivalent to <code>lhs &lt;- Cache(rhs)</code>.</p></li>
<li><p>new option: reproducible.verbose, set to FALSE by default, but if set to true may help understand caching behaviour, especially for complex highly nested code.</p></li>
<li><p>all options now described in <code><a href="../reference/reproducible-package.html">?reproducible</a></code>.</p></li>
<li><p>All Cache arguments other than FUN and … will now propagate to internal, nested Cache calls, if they are not specified explicitly in each of the inner Cache calls.</p></li>
<li><p>Cached pipe operator <code><a href="../reference/pipe.html">%C%</a></code> – use to begin a pipe sequence, e.g., <code>Cache() %C% ...</code></p></li>
<li><p>Cache arg <code>sideEffect</code> can now be a path</p></li>
<li><p>Cache arg <code>digestPathContent</code> default changed from FALSE (was for speed) to TRUE (for content accuracy)</p></li>
<li><p>New function, <code>searchFull</code>, which shows the full search path, known alternatively as “scope”, or “binding environments”. It is where R will search for a function when requested by a user.</p></li>
<li><p>Uses <code><a href="https://rdrr.io/pkg/memoise/man/memoise.html">memoise::memoise</a></code> for several functions (<code>loadFromLocalRepo</code>, <code>pkgDep</code>, <code>package_dependencies</code>, <code>available.packages</code>) for speed – will impact memory at the expense of speed.</p></li>
<li>
<p>New <code>Require</code> function</p>
<ul>
<li>attempts to create a lighter weight package reproducibility chain. This function is usable in a reproducible workflow: it includes both installing and loading of packages, it can maintain version numbers, and uses smart caching for speed. In tests, it can evaluate whether 20 packages and their dependencies (~130 packages) are installed and loaded quickly (i.e., if all TRUE, ~0.1 seconds). This is much slower than running <code>require</code> on those 20 packages, but <code>require</code> does not check for dependencies and deal with them if missing: it just errors. This speed should be fast enough for many purposes.</li>
<li>can accept uncommented name, if length 1.</li>
</ul>
</li>
<li><p>remove <code>dplyr</code> from Imports</p></li>
<li><p>Add <code>RCurl</code> to Imports</p></li>
<li><p>change name of <code>digestRaster</code> to <code>.digestRaster</code></p></li>
</ul>
</div>
    <div id="version-013" class="section level1">
<h1 class="page-header">
<a href="#version-013" class="anchor"></a>version 0.1.3<small> 2017-08-10 </small>
</h1>
<ul>
<li>fix R CMD check errors on Solaris that were not previously resolved</li>
</ul>
</div>
    <div id="version-012" class="section level1">
<h1 class="page-header">
<a href="#version-012" class="anchor"></a>version 0.1.2<small> 2017-08-09 </small>
</h1>
<ul>
<li>fix R CMD check errors on Solaris</li>
<li>fix bug in <code>digestRaster</code> affecting in-memory rasters</li>
<li>move <code>rgdal</code> to Suggests</li>
</ul>
</div>
    <div id="version-011" class="section level1">
<h1 class="page-header">
<a href="#version-011" class="anchor"></a>version 0.1.1<small> 2017-08-05 </small>
</h1>
<ul>
<li>cleanup examples and <em>do</em> run them (per CRAN)</li>
<li>add tests to ensure all exported (non-dot) functions have examples</li>
</ul>
</div>
    <div id="version-010" class="section level1">
<h1 class="page-header">
<a href="#version-010" class="anchor"></a>version 0.1.0<small> Unreleased </small>
</h1>
<ul>
<li>A new package, which takes all caching utilities out of the <code>SpaDES</code> package.</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
        <li><a href="#version-100">1.0.0</a></li>
        <li><a href="#version-0211">0.2.11</a></li>
        <li><a href="#version-0210">0.2.10</a></li>
        <li><a href="#version-029">0.2.9</a></li>
        <li><a href="#version-028">0.2.8</a></li>
        <li><a href="#version-027">0.2.7</a></li>
        <li><a href="#version-026">0.2.6</a></li>
        <li><a href="#version-025">0.2.5</a></li>
        <li><a href="#version-023">0.2.3</a></li>
        <li><a href="#version-022">0.2.2</a></li>
        <li><a href="#version-021">0.2.1</a></li>
        <li><a href="#version-020">0.2.0</a></li>
        <li><a href="#version-014">0.1.4</a></li>
        <li><a href="#version-013">0.1.3</a></li>
        <li><a href="#version-012">0.1.2</a></li>
        <li><a href="#version-011">0.1.1</a></li>
        <li><a href="#version-010">0.1.0</a></li>
      </ul>
    </div>
  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by Eliot J B McIntire, Alex M Chubaty.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


